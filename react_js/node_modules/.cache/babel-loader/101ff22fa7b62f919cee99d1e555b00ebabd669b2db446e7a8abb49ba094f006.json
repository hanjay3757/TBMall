{"ast":null,"code":"var _jsxFileName = \"C:\\\\JWH\\\\vsc\\\\study\\\\team\\\\src\\\\components\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Cart() {\n  _s();\n  const [cartItems, setCartItems] = useState([]);\n  useEffect(() => {\n    fetchCartItems();\n  }, []);\n  const fetchCartItems = async () => {\n    try {\n      const response = await axios.get('http://localhost:8080/mvc/stuff/cart/items', {\n        withCredentials: true\n      });\n      setCartItems(response.data);\n    } catch (error) {\n      console.error('장바구니 목록 조회 실패:', error);\n    }\n  };\n  const removeItem = async cartId => {\n    try {\n      await axios.delete(`http://localhost:8080/mvc/stuff/cart/remove/${cartId}`, {\n        withCredentials: true\n      });\n      fetchCartItems();\n    } catch (error) {\n      console.error('장바구니 아이템 삭제 실패:', error);\n    }\n  };\n  const updateQuantity = async (cartId, newQuantity) => {\n    try {\n      await axios.put(`http://localhost:8080/mvc/stuff/cart/update/${cartId}`, {\n        quantity: newQuantity\n      }, {\n        withCredentials: true\n      });\n      fetchCartItems();\n    } catch (error) {\n      console.error('수량 업데이트 실패:', error);\n    }\n  };\n  const addToCart = async (itemId, quantity) => {\n    if (!itemId || quantity <= 0) {\n      alert('유효한 아이템 ID와 수량을 입력하세요.');\n      return;\n    }\n    try {\n      const response = await axios.get(`http://localhost:8080/mvc/stuff/cart/add`, {\n        itemId: itemId,\n        quantity: quantity\n      }, {\n        withCredentials: true\n      });\n      if (response.data.success) {\n        fetchCartItems();\n      } else {\n        alert('장바구니 추가 실패: ' + response.data.message);\n      }\n    } catch (error) {\n      if (error.response && error.response.status === 401) {\n        alert('로그인이 필요합니다.');\n      } else {\n        console.error('장바구니 추가 실패:', error);\n      }\n    }\n  };\n  const calculateTotal = () => {\n    return cartItems.reduce((total, item) => total + item.price * item.quantity, 0);\n  };\n  const handleCheckout = async () => {\n    try {\n      await axios.post('http://localhost:8080/mvc/stuff/cart/checkout', {}, {\n        withCredentials: true\n      });\n      alert('주문이 완료되었습니다.');\n      fetchCartItems();\n    } catch (error) {\n      console.error('주문 처리 실패:', error);\n      alert('주문 처리 중 오류가 발생했습니다.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cart-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uC7A5\\uBC14\\uAD6C\\uB2C8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\uC7A5\\uBC14\\uAD6C\\uB2C8\\uAC00 \\uBE44\\uC5B4\\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-items\",\n        children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: item.itemName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\uAC00\\uACA9: \", item.price.toLocaleString(), \"\\uC6D0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: \"1\",\n            value: item.quantity,\n            onChange: e => updateQuantity(item.cartId, parseInt(e.target.value))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => removeItem(item.cartId),\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => addToCart(item.itemId, 1),\n            children: \"\\uC7A5\\uBC14\\uAD6C\\uB2C8\\uC5D0 \\uCD94\\uAC00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this)]\n        }, item.cartId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-total\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"\\uCD1D \\uAE08\\uC561: \", calculateTotal().toLocaleString(), \"\\uC6D0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCheckout,\n          children: \"\\uC8FC\\uBB38\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"yMyLm0mTOdUD4xRL2vnEhQFbjeY=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","_s","cartItems","setCartItems","fetchCartItems","response","get","withCredentials","data","error","console","removeItem","cartId","delete","updateQuantity","newQuantity","put","quantity","addToCart","itemId","alert","success","message","status","calculateTotal","reduce","total","item","price","handleCheckout","post","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","itemName","toLocaleString","type","min","value","onChange","e","parseInt","target","onClick","_c","$RefreshReg$"],"sources":["C:/JWH/vsc/study/team/src/components/Cart.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction Cart() {\r\n  const [cartItems, setCartItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchCartItems();\r\n  }, []);\r\n\r\n  const fetchCartItems = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:8080/mvc/stuff/cart/items', {\r\n        withCredentials: true\r\n      });\r\n      setCartItems(response.data);\r\n    } catch (error) {\r\n      console.error('장바구니 목록 조회 실패:', error);\r\n    }\r\n  };\r\n\r\n  const removeItem = async (cartId) => {\r\n    try {\r\n      await axios.delete(`http://localhost:8080/mvc/stuff/cart/remove/${cartId}`, {\r\n        withCredentials: true\r\n      });\r\n      fetchCartItems();\r\n    } catch (error) {\r\n      console.error('장바구니 아이템 삭제 실패:', error);\r\n    }\r\n  };\r\n\r\n  const updateQuantity = async (cartId, newQuantity) => {\r\n    try {\r\n      await axios.put(`http://localhost:8080/mvc/stuff/cart/update/${cartId}`, {\r\n        quantity: newQuantity\r\n      }, {\r\n        withCredentials: true\r\n      });\r\n      fetchCartItems();\r\n    } catch (error) {\r\n      console.error('수량 업데이트 실패:', error);\r\n    }\r\n  };\r\n\r\n  const addToCart = async (itemId, quantity) => {\r\n    if (!itemId || quantity <= 0) {\r\n      alert('유효한 아이템 ID와 수량을 입력하세요.');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const response = await axios.get(`http://localhost:8080/mvc/stuff/cart/add`, {\r\n        itemId: itemId,\r\n        quantity: quantity\r\n      }, {\r\n        withCredentials: true\r\n      });\r\n      \r\n      if (response.data.success) {\r\n        fetchCartItems();\r\n      } else {\r\n        alert('장바구니 추가 실패: ' + response.data.message);\r\n      }\r\n    } catch (error) {\r\n      if (error.response && error.response.status === 401) {\r\n        alert('로그인이 필요합니다.');\r\n      } else {\r\n        console.error('장바구니 추가 실패:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const calculateTotal = () => {\r\n    return cartItems.reduce((total, item) => total + (item.price * item.quantity), 0);\r\n  };\r\n\r\n  const handleCheckout = async () => {\r\n    try {\r\n      await axios.post('http://localhost:8080/mvc/stuff/cart/checkout', {}, {\r\n        withCredentials: true\r\n      });\r\n      alert('주문이 완료되었습니다.');\r\n      fetchCartItems();\r\n    } catch (error) {\r\n      console.error('주문 처리 실패:', error);\r\n      alert('주문 처리 중 오류가 발생했습니다.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"cart-container\">\r\n      <h2>장바구니</h2>\r\n      {cartItems.length === 0 ? (\r\n        <p>장바구니가 비어있습니다.</p>\r\n      ) : (\r\n        <>\r\n          <div className=\"cart-items\">\r\n            {cartItems.map(item => (\r\n              <div key={item.cartId} className=\"cart-item\">\r\n                <h3>{item.itemName}</h3>\r\n                <p>가격: {item.price.toLocaleString()}원</p>\r\n                <input \r\n                  type=\"number\" \r\n                  min=\"1\" \r\n                  value={item.quantity}\r\n                  onChange={(e) => updateQuantity(item.cartId, parseInt(e.target.value))}\r\n                />\r\n                <button onClick={() => removeItem(item.cartId)}>삭제</button>\r\n                <button onClick={() => addToCart(item.itemId, 1)}>장바구니에 추가</button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"cart-total\">\r\n            <h3>총 금액: {calculateTotal().toLocaleString()}원</h3>\r\n            <button onClick={handleCheckout}>주문하기</button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1B,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EACd,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACdU,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,4CAA4C,EAAE;QAC7EC,eAAe,EAAE;MACnB,CAAC,CAAC;MACFJ,YAAY,CAACE,QAAQ,CAACG,IAAI,CAAC;IAC7B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IACxC;EACF,CAAC;EAED,MAAME,UAAU,GAAG,MAAOC,MAAM,IAAK;IACnC,IAAI;MACF,MAAMjB,KAAK,CAACkB,MAAM,CAAC,+CAA+CD,MAAM,EAAE,EAAE;QAC1EL,eAAe,EAAE;MACnB,CAAC,CAAC;MACFH,cAAc,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;IACzC;EACF,CAAC;EAED,MAAMK,cAAc,GAAG,MAAAA,CAAOF,MAAM,EAAEG,WAAW,KAAK;IACpD,IAAI;MACF,MAAMpB,KAAK,CAACqB,GAAG,CAAC,+CAA+CJ,MAAM,EAAE,EAAE;QACvEK,QAAQ,EAAEF;MACZ,CAAC,EAAE;QACDR,eAAe,EAAE;MACnB,CAAC,CAAC;MACFH,cAAc,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;IACrC;EACF,CAAC;EAED,MAAMS,SAAS,GAAG,MAAAA,CAAOC,MAAM,EAAEF,QAAQ,KAAK;IAC5C,IAAI,CAACE,MAAM,IAAIF,QAAQ,IAAI,CAAC,EAAE;MAC5BG,KAAK,CAAC,wBAAwB,CAAC;MAC/B;IACF;IAEA,IAAI;MACF,MAAMf,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,0CAA0C,EAAE;QAC3Ea,MAAM,EAAEA,MAAM;QACdF,QAAQ,EAAEA;MACZ,CAAC,EAAE;QACDV,eAAe,EAAE;MACnB,CAAC,CAAC;MAEF,IAAIF,QAAQ,CAACG,IAAI,CAACa,OAAO,EAAE;QACzBjB,cAAc,CAAC,CAAC;MAClB,CAAC,MAAM;QACLgB,KAAK,CAAC,cAAc,GAAGf,QAAQ,CAACG,IAAI,CAACc,OAAO,CAAC;MAC/C;IACF,CAAC,CAAC,OAAOb,KAAK,EAAE;MACd,IAAIA,KAAK,CAACJ,QAAQ,IAAII,KAAK,CAACJ,QAAQ,CAACkB,MAAM,KAAK,GAAG,EAAE;QACnDH,KAAK,CAAC,aAAa,CAAC;MACtB,CAAC,MAAM;QACLV,OAAO,CAACD,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;MACrC;IACF;EACF,CAAC;EAED,MAAMe,cAAc,GAAGA,CAAA,KAAM;IAC3B,OAAOtB,SAAS,CAACuB,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,KAAKD,KAAK,GAAIC,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACV,QAAS,EAAE,CAAC,CAAC;EACnF,CAAC;EAED,MAAMY,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAMlC,KAAK,CAACmC,IAAI,CAAC,+CAA+C,EAAE,CAAC,CAAC,EAAE;QACpEvB,eAAe,EAAE;MACnB,CAAC,CAAC;MACFa,KAAK,CAAC,cAAc,CAAC;MACrBhB,cAAc,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK,CAAC;MACjCW,KAAK,CAAC,qBAAqB,CAAC;IAC9B;EACF,CAAC;EAED,oBACEvB,OAAA;IAAKkC,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC7BnC,OAAA;MAAAmC,QAAA,EAAI;IAAI;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACZlC,SAAS,CAACmC,MAAM,KAAK,CAAC,gBACrBxC,OAAA;MAAAmC,QAAA,EAAG;IAAa;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBAEpBvC,OAAA,CAAAE,SAAA;MAAAiC,QAAA,gBACEnC,OAAA;QAAKkC,SAAS,EAAC,YAAY;QAAAC,QAAA,EACxB9B,SAAS,CAACoC,GAAG,CAACX,IAAI,iBACjB9B,OAAA;UAAuBkC,SAAS,EAAC,WAAW;UAAAC,QAAA,gBAC1CnC,OAAA;YAAAmC,QAAA,EAAKL,IAAI,CAACY;UAAQ;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACxBvC,OAAA;YAAAmC,QAAA,GAAG,gBAAI,EAACL,IAAI,CAACC,KAAK,CAACY,cAAc,CAAC,CAAC,EAAC,QAAC;UAAA;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACzCvC,OAAA;YACE4C,IAAI,EAAC,QAAQ;YACbC,GAAG,EAAC,GAAG;YACPC,KAAK,EAAEhB,IAAI,CAACV,QAAS;YACrB2B,QAAQ,EAAGC,CAAC,IAAK/B,cAAc,CAACa,IAAI,CAACf,MAAM,EAAEkC,QAAQ,CAACD,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC;UAAE;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxE,CAAC,eACFvC,OAAA;YAAQmD,OAAO,EAAEA,CAAA,KAAMrC,UAAU,CAACgB,IAAI,CAACf,MAAM,CAAE;YAAAoB,QAAA,EAAC;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC3DvC,OAAA;YAAQmD,OAAO,EAAEA,CAAA,KAAM9B,SAAS,CAACS,IAAI,CAACR,MAAM,EAAE,CAAC,CAAE;YAAAa,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA,GAV3DT,IAAI,CAACf,MAAM;UAAAqB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAWhB,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACNvC,OAAA;QAAKkC,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzBnC,OAAA;UAAAmC,QAAA,GAAI,uBAAM,EAACR,cAAc,CAAC,CAAC,CAACgB,cAAc,CAAC,CAAC,EAAC,QAAC;QAAA;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnDvC,OAAA;UAAQmD,OAAO,EAAEnB,cAAe;UAAAG,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC;IAAA,eACN,CACH;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACnC,EAAA,CAtHQD,IAAI;AAAAiD,EAAA,GAAJjD,IAAI;AAwHb,eAAeA,IAAI;AAAC,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}